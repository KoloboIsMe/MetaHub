\doxysection{Users\+Service.\+php}
\hypertarget{_users_service_8php_source}{}\label{_users_service_8php_source}\index{services/UsersService.php@{services/UsersService.php}}
\mbox{\hyperlink{_users_service_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceservices}{services}};}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00005}\mbox{\hyperlink{classservices_1_1_users_service}{00005}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classservices_1_1_users_service}{UsersService}}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00006}00006\ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00007}00007\ \ \ \ \ \textcolor{keyword}{private}\ \mbox{\hyperlink{index_8php_ae9edebdcd1b91b38dfd10a39e51073c2}{\$outputData}};}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00009}\mbox{\hyperlink{classservices_1_1_users_service_a21db5a882ba43a48b03c976aefa69c75}{00009}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a21db5a882ba43a48b03c976aefa69c75}{\_\_construct}}(\mbox{\hyperlink{index_8php_ae9edebdcd1b91b38dfd10a39e51073c2}{\$outputData}})}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00010}00010\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00011}00011\ \ \ \ \ \ \ \ \ \$this-\/>outputData\ =\ \mbox{\hyperlink{index_8php_ae9edebdcd1b91b38dfd10a39e51073c2}{\$outputData}};}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00012}00012\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00014}\mbox{\hyperlink{classservices_1_1_users_service_a52819191a05e176c4c096966ab1edd1d}{00014}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a52819191a05e176c4c096966ab1edd1d}{existsUsername}}(\$dataccess,\ \$username)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00015}00015\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00016}00016\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>existsUsername(\$username);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00017}00017\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00019}\mbox{\hyperlink{classservices_1_1_users_service_a38ec34f0d54535a7373747015b8caa64}{00019}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a38ec34f0d54535a7373747015b8caa64}{existsUser}}(\$dataccess,\ \$user\_ID)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00020}00020\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00021}00021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>existsUser(\$user\_ID);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00022}00022\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00024}\mbox{\hyperlink{classservices_1_1_users_service_a6eaf4e071c958467d7b3315b5dd51e05}{00024}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a6eaf4e071c958467d7b3315b5dd51e05}{authenticate}}(\$username,\ \$password,\ \$dataccess)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00025}00025\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00026}00026\ \ \ \ \ \ \ \ \ \$isUser\ =\ \$dataccess-\/>isUser(\$username,\ \$password);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00027}00027\ \ \ \ \ \ \ \ \ \$this-\/>outputData-\/>setOutputData(\$isUser);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00028}00028\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00030}\mbox{\hyperlink{classservices_1_1_users_service_a7bb0aa69b7cb6b42e1bb7a7c668ea730}{00030}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \textcolor{keyword}{register}(\$username,\ \$password,\ \$dataccess)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00031}00031\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>register(\$username,\ \$password,\ date(\textcolor{stringliteral}{"{}Y-\/m-\/d\ H:i"{}}));}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00033}00033\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00035}\mbox{\hyperlink{classservices_1_1_users_service_a68e02a891d90270f154ab5c4bc59cae9}{00035}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a68e02a891d90270f154ab5c4bc59cae9}{updateUser}}(\$username,\ \$password,\ \$dataccess)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00036}00036\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>updateUser(\$username,\ \$password,\ \$\_SESSION[\textcolor{stringliteral}{'user\_ID'}]);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00038}00038\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00040}\mbox{\hyperlink{classservices_1_1_users_service_af9474977a289c4527898f47460172616}{00040}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_af9474977a289c4527898f47460172616}{getUserByUsername}}(\$dataccess,\ \$username)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00041}00041\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00042}00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>getUserByUsername(\$username);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00043}00043\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00045}\mbox{\hyperlink{classservices_1_1_users_service_a887a2f82c7277e66c3b2a740dfe1464b}{00045}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a887a2f82c7277e66c3b2a740dfe1464b}{updateLastConnexion}}(\$dataccess,\ \$user\_ID)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00046}00046\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00047}00047\ \ \ \ \ \ \ \ \ \$dataccess-\/>updateLastConnexion(\$user\_ID);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00050}\mbox{\hyperlink{classservices_1_1_users_service_a6f7b0615bacb57c18b7a096dad7d2227}{00050}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a6f7b0615bacb57c18b7a096dad7d2227}{getUsers}}(\$dataccess)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00051}00051\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00052}00052\ \ \ \ \ \ \ \ \ \$users\ =\ [];}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$dataccess-\/>getUsersID()\ as\ \$userId)\ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \$users[]\ =\ \$dataccess-\/>getUserById(\$userId);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00055}00055\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00056}00056\ \ \ \ \ \ \ \ \ \$this-\/>outputData-\/>setOutputData(\$users);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00057}00057\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00059}\mbox{\hyperlink{classservices_1_1_users_service_a2f77bb31ab5082288481238f1b3abe80}{00059}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a2f77bb31ab5082288481238f1b3abe80}{getUserById}}(\$dataccess,\ \mbox{\hyperlink{edit_ticket_8php_ae97941710d863131c700f069b109991e}{\$id}})}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00060}00060\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00061}00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dataccess-\/>getUserById(\mbox{\hyperlink{edit_ticket_8php_ae97941710d863131c700f069b109991e}{\$id}});}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00062}00062\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00063}\mbox{\hyperlink{classservices_1_1_users_service_aeb90b6e09d4969eea24c7965fbed979d}{00063}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_aeb90b6e09d4969eea24c7965fbed979d}{setOnline}}(\$dataccess,\ \$user\_ID,\ \$online)}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00064}00064\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00065}00065\ \ \ \ \ \ \ \ \ \$dataccess-\/>setOnline(\$user\_ID,\ \$online);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00066}00066\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00068}\mbox{\hyperlink{classservices_1_1_users_service_a358726d7a4e2db7cc089048acf1590a7}{00068}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_a358726d7a4e2db7cc089048acf1590a7}{add10LastConnectedUsers}}(\mbox{\hyperlink{index_8php_a9340012d6fce07833a6fa708779dfb16}{\$userAccessLector}})}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00069}00069\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00070}00070\ \ \ \ \ \ \ \ \ \$users\ =\ [];}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{index_8php_a9340012d6fce07833a6fa708779dfb16}{\$userAccessLector}}-\/>get10LastConnectedUsersID()\ as\ \$userId)\ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \$users[]\ =\ \mbox{\hyperlink{index_8php_a9340012d6fce07833a6fa708779dfb16}{\$userAccessLector}}-\/>getUserById(\$userId);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00073}00073\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00074}00074\ \ \ \ \ \ \ \ \ \$this-\/>outputData-\/>addOutputData(\$users);}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00075}00075\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00077}\mbox{\hyperlink{classservices_1_1_users_service_aa7af8ed60411b8e43cbafa5988136f89}{00077}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classservices_1_1_users_service_aa7af8ed60411b8e43cbafa5988136f89}{setUserById}}(\$dataccess,\ \mbox{\hyperlink{edit_ticket_8php_ae97941710d863131c700f069b109991e}{\$id}})}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00078}00078\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00079}00079\ \ \ \ \ \ \ \ \ \$this-\/>outputData-\/>setOutputData(\$dataccess-\/>getUserById(\mbox{\hyperlink{edit_ticket_8php_ae97941710d863131c700f069b109991e}{\$id}}));}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00080}00080\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{_users_service_8php_source_l00082}00082\ \}}

\end{DoxyCode}
